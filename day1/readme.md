## è¿™æ˜¯ethç›¸å…³çš„å­¦ä¹ å†…å®¹day1

### Part1-å‡†å¤‡

åŸºç¡€çŸ¥è¯†å‡†å¤‡ï¼Œè¿™é‡Œä¸»è¦æ˜¯è¦çŸ¥é“ethçš„ç½‘ç»œï¼Œç”¨äºå­¦ä¹ å’Œæµ‹è¯•çš„è¯ï¼Œå¯ä»¥ç”¨sepolia.infura.ioç½‘ç»œï¼Œsepolia.infura.ioæ˜¯ethçš„æµ‹è¯•ç½‘ç»œã€‚ä»Šå¤©ä¸»è¦çš„å­¦ä¹ å†…å®¹æ˜¯é€šè¿‡rpcè°ƒç”¨è·å–æµ‹è¯•é“¾ä¸Šçš„ç›¸å…³ä¿¡æ¯ã€‚
æµ‹è¯•ç½‘ç»œRPCè°ƒç”¨ä¹Ÿæ˜¯éœ€è¦æƒé™çš„ï¼Œè¦å»ç”³è¯·keyæ‰å¯ä»¥è°ƒç”¨ã€‚

ç”³è¯·keyåœ°å€`https://developer.metamask.io/key/all-endpoints`

ç„¶åæ˜¯æœ¬åœ°è¿è¡Œç¯å¢ƒï¼Œéœ€è¦goï¼Œè¿™é‡Œæ˜¯`go version go1.25.3 windows/amd64`ï¼Œæœ€å¥½æ˜¯å®‰è£…æœ€æ–°ç‰ˆæœ¬

å½“ç„¶è¿™é‡Œè¿˜éœ€è¦ç§‘å­¦ä¸Šç½‘å·¥å…·

### Part2-è·å–å½“å‰å—ä¿¡æ¯
å…ˆè¦é…ç½®.env
```
RPC_URL=https://sepolia.infura.io/v3/779e8a98dfb1417a9ad6002e4d1faa91
```

æ ¸å¿ƒæ˜¯é€šè¿‡RPCè°ƒç”¨æŸ¥è¯¢æœ€æ–°åŒºå—ï¼Œå°±å¯ä»¥çŸ¥é“æœ€æ–°å—å·äº†ï¼Œæœ‰åŠ©äºå’±ä»¬å¿«é€Ÿå…¥é—¨ï¼Œå¢åŠ æˆå°±æ„Ÿ
å½“è¾“å…¥è¾“å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼Œå³è¡¨ç¤ºè¿è¡ŒæˆåŠŸäº†ï¼Œå¤ªæ£’äº†

```
go run get_block.go
```
```
âœ… RPC è¿æ¥æˆåŠŸï¼å½“å‰åŒºå—å·: 9484076
```
é‡åˆ°é—®é¢˜ä¹Ÿä¸è¦ç´§ï¼Œä¸€èˆ¬éƒ½æ˜¯åŒ…çš„é—®é¢˜ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨æç¤ºæ¥å¤„ç†
### Part3-è·å–ethä½™é¢

å…ˆè¦é…ç½®.env
```
# é’±åŒ…åœ°å€
WALLET_ADDRESS=0xaFa20294f278FEf6682000fAc922545542b7990c
```
è¾“å…¥è¿è¡Œè¾“å‡º
```
go run eth_balance.go
```

```
é’±åŒ…åœ°å€: 0xaFa20294f278FEf6682000fAc922545542b7990c
ä½™é¢: 0.09798698 ETH
```

### Part3-è·å–ä»£å¸åˆçº¦çš„ä½™é¢
å¯¹äºä»€ä¹ˆæ˜¯ä»£å¸åˆçº¦çš„ä½™é¢ï¼Œç®€å•è§£é‡Šå°±æ˜¯åœ¨ä»¥å¤ªåŠé‡Œæœ‰ä¸­å¤®é“¶è¡Œå‘è¡Œçš„ethï¼Œä¹Ÿæœ‰å•†ä¸šé“¶è¡Œå‘è¡Œçš„ä»£å¸tokenï¼Œè¦æŸ¥é’±åŒ…çš„ä»£å¸tokenä½™é¢å°±å¾—å»å•†ä¸šé“¶è¡Œå»æŸ¥ï¼ˆåˆçº¦åœ°å€ï¼‰

éå¸¸å¥½ï¼Œç¬¬ä¸€äºŒéƒ¨åˆ†å·²ç»é¡ºåˆ©å®Œæˆäº†ï¼Œç°åœ¨æ•´éš¾ä¸€ç‚¹çš„ï¼Œè™½ç„¶åªæ˜¯ç¬¬ä¸€å¤©ï¼Œä¸è¿‡å¯¹äºæœ‰åŸºç¡€çš„æ¥è¯´ï¼Œå…¶å®åŸç†éƒ½ä¸€æ ·ã€‚

å…ˆè¦é…ç½®.env
```
# é’±åŒ…åœ°å€
WALLET_ADDRESS=0xaFa20294f278FEf6682000fAc922545542b7990c
# erc20åˆçº¦åœ°å€-è¿™ä¸ªæ˜¯USDCä»£å¸åˆçº¦
ERC20_CONTRACT=0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238
```

ç„¶åå°±æ˜¯è¾“å…¥è¿è¡Œè¾“å‡º
```
go run erc20.go
```
```
âœ… é’±åŒ… 0xaFa20294f278FEf6682000fAc922545542b7990c ERC20 ä½™é¢: 0
```
å¤ªæ£’äº†ï¼ŒæŸ¥åˆ°ä½™é¢äº†ï¼Œå¯æƒœæ˜¯0ï¼Œè¦æ˜¯æœ‰ä¸ªå‡ ç™¾ä¸ªå°±å¥½äº†

### Part4-æ•´åˆæˆhttpæœåŠ¡

æ—¢ç„¶å’±ä»¬å·²ç»å­¦äº†è¿™ä¹ˆå¤šäº†ï¼Œä½•ä¸æ•´æˆä¸€ä¸ªhttpæœåŠ¡å¯¹å¤–æä¾›å’±ä»¬çš„ç³»ç»Ÿä»·å€¼äº†ï¼Œç›´æ¥ç”¨ginæ•´åˆèµ·æ¥

è¾“å…¥è¿è¡Œè¾“å‡º
```
go run .\gin_balance.go
```
```
- using env:   export GIN_MODE=release
 - using code:  gin.SetMode(gin.ReleaseMode)

2025/10/25 10:11:32 âœ… å·²è¿æ¥åˆ° Sepolia ç½‘ç»œ
[GIN-debug] GET    /balance/:address         --> main.main.func1 (3 handlers)
[GIN-debug] GET    /token_balance/:contract/:address --> main.main.func2 (3 handlers)
2025/10/25 10:11:32 ğŸš€ æœåŠ¡å·²å¯åŠ¨: http://localhost:8080
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://github.com/gin-gonic/gin/blob/master/docs/doc.md#dont-trust-all-proxies for details.
[GIN-debug] Listening and serving HTTP on :8080
```

çœŸä¸é”™ï¼Œçœ‹æ¥å…¥é—¨äº†

### æ€»ç»“
1. ä»¥å¤ªåŠæœ‰å¤šç§ç½‘ç»œï¼Œä¸»ç½‘ï¼Œæµ‹è¯•ç­‰å¾…
2. è¦æ¥å…¥æµ‹è¯•ç½‘ç»œéœ€è¦keyï¼Œkeyç”³è¯·è¦å»developer
3. é“¾ä¸‹ä¸é“¾ä¸Šäº¤äº’å¯ä»¥é€šè¿‡RPCè°ƒç”¨
4. é’±åŒ…åœ°å€ç›¸å½“äºä¸ªäººå”¯ä¸€ID
5. åŸç”Ÿå¸åªæœ‰ethï¼Œä½†æ˜¯erc20ä»£å¸æœ‰å¾ˆå¤šï¼Œè¦æŸ¥ä»£å¸æ•°é‡éœ€è¦erc20åˆçº¦åœ°å€
